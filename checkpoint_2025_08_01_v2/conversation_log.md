# 대화 기록 전체

## 사용자 요청 1: 캐릭터 Y 오프셋 조정
**요청**: "카메라 각도는 30도 위로 설정하고, 캐릭터 위치의 offset 을 조정해서 캐릭터 모델이 실제로 지면에 가까워지게 만들어줘"

**작업 내용**:
- main.rs에서 플레이어 Y 위치를 1.0에서 0.5로 수정
- 적 캐릭터도 동일하게 조정

## 사용자 요청 2: GLTF 씬 로딩
**요청**: "추가로, 게임의 기본 씬을 update_gltf_scene 로 열도록 만들 수 있을까"

**작업 내용**:
- scene_loader.rs 생성
- update_gltf_scene 함수 구현
- level.glb, scene.glb, world.glb 등을 자동으로 찾아 로드하는 시스템 구현

## 사용자 요청 3: GLB 파일 생성 가능성
**요청**: "procedual 하게 생성한 씬을 왜 .glb 형식이나 .gltf 형식으로 저장할 수 없는거야?"

**설명**:
- GLB/GLTF는 복잡한 바이너리 형식
- Bevy는 주로 읽기 기능에 중점
- 대안으로 JSON 직렬화와 Blender 스크립트 제공

## 사용자 요청 4: 맵 생성 로직 분리
**요청**: "procedural 하게 생성하는 로직을 map_generator.rs 에 분리해서, 게임 실행 시에 호출되도록 해줘. 그리고 blender 에서 .glb 씬 파일을 생성할 수 있는 파일도 제공해줘."

**작업 내용**:
- map_generator.rs: 프로시저럴 맵 생성 로직
- map_data.rs: 맵 설정 데이터 구조체
- scene_serializer.rs: JSON 저장/로드 시스템
- generate_map_in_blender.py: Blender 스크립트
- 각 요소별 생성 함수로 모듈화

## 사용자 요청 5: 컴파일 및 실행
**요청**: "cargo run"

**결과**:
- 초기 컴파일 에러 수정
- CheckpointMarker 컴포넌트 이동
- serde 의존성 추가
- 성공적 실행

## 사용자 요청 6: 카메라 각도 및 모델 변경
**요청**: "캐릭터를 위에서 아래로 바라보도록 각도를 수정해줘. 그리고 캐릭터 모델은 Vanguard.glb 로 변경해줘"

**작업 내용**:
- 카메라 각도를 80도로 변경 (탑다운 뷰)
- 카메라 거리를 10으로 증가
- Vanguard.glb 모델 로드 추가
- 모델 스케일 0.01로 조정

## 사용자 요청 7: 카메라 각도 재조정
**요청**: "위에서 아래로 내려다보는 각도를 30도 정도로 조절해줘"

**작업 내용**:
- base_pitch를 0.52 (30도)로 변경
- 카메라 거리를 8로 조정
- 피치 제한을 -0.3~0.3으로 설정

## 사용자 요청 8: 체크포인트 생성
**요청**: "현재까지 작업한 내용을 checkpoint 로 저장해서 다음 세션 시작시 context 를 복구할 수 있도록 만들어줘"

**작업 내용**:
- checkpoint_2025_08_01_v2 폴더 생성
- session_summary.md: 전체 요약
- technical_details.md: 기술적 세부사항
- conversation_log.md: 대화 기록

---

## 주요 기술적 결정사항

1. **프로시저럴 맵 vs GLB 파일**
   - 런타임 생성이 더 유연하고 동적
   - Blender 스크립트로 필요시 GLB 변환 가능

2. **모델 시스템**
   - AssetLoaderState로 상태 관리
   - 비동기 로딩 처리

3. **카메라 시스템**
   - 기본 각도 + 사용자 조작 각도 분리
   - 부드러운 회전을 위한 slerp 사용

4. **컴포넌트 구조**
   - 맵 관련 컴포넌트 별도 모듈로 분리
   - ECS 패턴 준수